{"ast":null,"code":"import * as rr from './ReactiveRobot';\nimport * as ev from './Events';\nlet clients = [];\nlet interval = null;\nexport function getData(name) {\n  console.log('DataService==>getData()'); //make some fake data, but this could easily be coming from an api call//\n  // let interval = setInterval(()=>{\n  //   let rand = Math.random()\n  //   if(rand < 0.33){\n  //     rr.next({type:ev.APP_TEST,data:{name:'hello App'}})\n  //   }else if(rand < 0.66){\n  //     rr.next({type:ev.COMPONENT1_TEST,data:{name:'hello Component1'}})\n  //   }else{\n  //     rr.next({type:ev.COMPONENT2_TEST,data:{name:'hello Component2'}})\n  //   }\n  //\n  // },1000)\n\n  if (name) {\n    clients.push(name);\n  }\n\n  function sendUpdates() {\n    clients.forEach(c => {\n      rr.next({\n        type: ev.COMPONENT_UPDATE_RECEIVED,\n        data: {\n          name: c,\n          message: 'updated at ' + Date.now()\n        }\n      });\n    });\n  }\n\n  if (!interval) {\n    interval = setInterval(sendUpdates, 1000);\n  }\n}","map":{"version":3,"sources":["/Users/briancoburn/WebstormProjects/reactive_robot/src/DataService.js"],"names":["rr","ev","clients","interval","getData","name","console","log","push","sendUpdates","forEach","c","next","type","COMPONENT_UPDATE_RECEIVED","data","message","Date","now","setInterval"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,UAApB;AAEA,IAAIC,OAAO,GAAG,EAAd;AACA,IAAIC,QAAQ,GAAG,IAAf;AACA,OAAO,SAASC,OAAT,CAAiBC,IAAjB,EAAsB;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAD2B,CAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAGF,IAAH,EAAQ;AACNH,IAAAA,OAAO,CAACM,IAAR,CAAaH,IAAb;AACD;;AACD,WAASI,WAAT,GAAsB;AACpBP,IAAAA,OAAO,CAACQ,OAAR,CAAiBC,CAAD,IAAK;AACnBX,MAAAA,EAAE,CAACY,IAAH,CAAQ;AAACC,QAAAA,IAAI,EAACZ,EAAE,CAACa,yBAAT;AAAmCC,QAAAA,IAAI,EAAC;AAACV,UAAAA,IAAI,EAACM,CAAN;AAASK,UAAAA,OAAO,EAAC,gBAAcC,IAAI,CAACC,GAAL;AAA/B;AAAxC,OAAR;AACD,KAFD;AAGD;;AACD,MAAG,CAACf,QAAJ,EAAa;AACXA,IAAAA,QAAQ,GAAGgB,WAAW,CAACV,WAAD,EAAa,IAAb,CAAtB;AACD;AACF","sourcesContent":["import * as rr from './ReactiveRobot'\nimport * as ev from './Events'\n\nlet clients = []\nlet interval = null\nexport function getData(name){\n  console.log('DataService==>getData()')\n  //make some fake data, but this could easily be coming from an api call//\n  // let interval = setInterval(()=>{\n  //   let rand = Math.random()\n  //   if(rand < 0.33){\n  //     rr.next({type:ev.APP_TEST,data:{name:'hello App'}})\n  //   }else if(rand < 0.66){\n  //     rr.next({type:ev.COMPONENT1_TEST,data:{name:'hello Component1'}})\n  //   }else{\n  //     rr.next({type:ev.COMPONENT2_TEST,data:{name:'hello Component2'}})\n  //   }\n  //\n  // },1000)\n  if(name){\n    clients.push(name)\n  }\n  function sendUpdates(){\n    clients.forEach((c)=>{\n      rr.next({type:ev.COMPONENT_UPDATE_RECEIVED,data:{name:c, message:'updated at '+Date.now()}})\n    })\n  }\n  if(!interval){\n    interval = setInterval(sendUpdates,1000)\n  }\n}"]},"metadata":{},"sourceType":"module"}